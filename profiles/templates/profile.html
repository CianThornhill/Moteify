{% extends 'base.html' %}

{% load static %}

{% block title %}Profile - {{Profile.user.username|default:'User' }}{% endblock %}

{% block content %}

    <div class="profile-container">
        
        <!-- Profile Picture -->
        <div class="text-center">
            <div class="profile_pic_container">
                {% if user_profile.profile_image %}
                <img src= "{{ user_profile.profile_image.url }}" alt="Profile Picture" class="round-image">
                {% else %}
                <img src="{{ user_profile.default_image.url }}" alt="Default Picture" class="round-image">
                {% endif %}
            </div>
        </div>

        <!-- Profile Username Display -->
        <div class ="profile-username text-center">
        <h2 class="section-title">{{ user_profile.user.username }}</h2>
        </div>

        <!--DEBUGING DEFAULT USER PROFILE PICTURE ISSUE-->
        <!-- <p><i> [This is for Debugging] </i></p>

        <p>Default Static Image:</p><img src="{% static 'img/user_default.png' %}" alt="Default Picture">
        <p>Default image url: {% static 'img/user_default.png' %}</p>
        <p>UserProfile URL:{{ user_profile.profile_image.url }}</p>

        <p><i> [End of Debugging] </i></p> -->
        <!----------------------------------------------->


        <!-- Profile Display Name-->
        <div class ="profile-info text-center">
            <p>Display name:</p>
            {% if user_profile.display_name %}
            {{ user_profile.display_name|safe }}
            {% else %}
            <p>"Edit Profile" below to add your Display name</p>
            {% endif %}
        </div>

        <!-- Profile Bio Display-->
        <div class="profile-info profile-bio text-center">
            <h2>Bio:</h2>
            {% if user_profile.bio %}
            {{ user_profile.bio|safe }}
            {% else %}
            <p>"Edit Profile" below to add your bio.</p>
            {% endif %}
        </div>


        <div class="div profile-buttons">
        <a href="{% url 'favourite_list' %}" class="btn btn-primary"> <h2>My Favourites</h2></a>
        <a href="#" class="btn btn-primary"> <h2>My Emotes</h2></a>
        </div>


        <!-- This form will  be within a Modal or another page to update your user profile on "Edit Profile Button"-->
        <div class="container profile-edit-container">
        <h2> Edit Profile </h2>
            <form method="post" enctype="multipart/form-data" class="p-2 form">
                {% csrf_token %}
                {{ form.media }}
                {{ form|crispy }}
                <button type="submit" class="btn btn-primary mt-2">Save</button>
            </form>
        </div>
        <!------------------------------------------------------------------------------------------------>

    </div>
{% endblock %}